(this["webpackJsonpemployee-explorer"]=this["webpackJsonpemployee-explorer"]||[]).push([[0],{45:function(e,t,n){},51:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),s=n.n(c),i=n(17),o=(n(45),n(3)),u=n(13),l=n(12),d=n(26),j=(n(50),n(51),n(1)),b=function(){var e=Object(o.g)(),t=function(t){var n;"Enter"===t.key&&(n=t.target.value,e.push("/overview/".concat(n)))};return Object(j.jsxs)("div",{className:"explorer",children:[Object(j.jsx)("h4",{id:"title",children:"Employee Explorer"}),Object(j.jsxs)("div",{className:"search_container",children:[Object(j.jsx)(d.a,{"aria-labelledby":"title",className:"search_input",children:Object(j.jsx)(d.b,{placeholder:"Search",onKeyUp:function(e){t(e)}})}),Object(j.jsx)("button",{className:"search_button",children:Object(j.jsx)(l.a,{icon:u.b})})]})]})},h=function(){return Object(j.jsx)(j.Fragment,{children:"Page not found"})},p=n(11),f=n.n(p),v=n(19),x=n(15),O=n(40),m=n.n(O),g=n(25),w=n(20),y=function e(t){Object(w.a)(this,e),this.id=void 0,this.reportsTo=void 0,this.manages=void 0,this.details=void 0,this.id=N("".concat(t.name,"__").concat(t.title)),this.details=t,this.reportsTo=null,this.manages=[]},k=function(){function e(t){Object(w.a)(this,e),this.root=void 0,this.root=new y(t)}return Object(g.a)(e,[{key:"traverseDF",value:function(e){!function t(n){for(var a=0,r=n.manages.length;a<r;a++)t(n.manages[a]);e(n)}(this.root)}},{key:"traverseBF",value:function(e){var t=new S;t.enqueue(this.root);for(var n=t.dequeue();n;){for(var a=0,r=n.manages.length;a<r;a++)t.enqueue(n.manages[a]);e(n),n=t.dequeue()}}},{key:"contains",value:function(e,t){t.call(this,e)}},{key:"add",value:function(e,t,n){var a,r=new y(e);if(this.contains((function(e){e.id===t&&(a=e)}),n),!(a&&a instanceof y))throw new Error("Cannot add node to a non-existent parent.");a.manages.push(r),r.reportsTo=a}},{key:"getAllSubordinateNames",value:function(){var e=new Set;return this.traverseBF((function(t){e.add(t.details.name)})),e.delete(this.root.details.name),Array.from(e)}}]),e}(),S=function(){function e(){Object(w.a)(this,e),this.elements=void 0,this.elements=[]}return Object(g.a)(e,[{key:"enqueue",value:function(e){this.elements.push(e)}},{key:"dequeue",value:function(){return this.elements.shift()}}]),e}(),N=function(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0)},_=(n(73),function(){var e=Object(a.useState)(!0),t=Object(x.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(x.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)(),b=Object(x.a)(d,2),h=b[0],p=b[1],O=Object(a.useState)([]),g=Object(x.a)(O,2),w=g[0],y=g[1],S=function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://api.additivasia.io/api/v1/assignment/employees/".concat(t));case 2:return n=e.sent,e.abrupt("return",{name:t,title:n.data[0],directSubordinates:n.data[1]?n.data[1]["direct-subordinates"]:null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=window.location.href,t=e.substring(e.lastIndexOf("/")+1),n=function(){var e=Object(v.a)(f.a.mark((function e(t,a){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.directSubordinates||!t.directSubordinates.length){e.next=12;break}r=0;case 2:if(!(r<t.directSubordinates.length)){e.next=12;break}return e.next=5,S(t.directSubordinates[r]);case 5:return c=e.sent,a.add(c,N("".concat(t.name,"__").concat(t.title)),a.traverseBF),e.next=9,n(c,a);case 9:r++,e.next=2;break;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(function(){var e=Object(v.a)(f.a.mark((function e(){var a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(t);case 3:return a=e.sent,c=new k(a),e.next=7,n(a,c);case 7:p(t),y(c.getAllSubordinateNames()),r(!1),o(""),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),p(""),y([]),r(!1),o(e.t0.response&&404===e.t0.response.status?"Employee ".concat(unescape(t)," not found"):"Something went wrong!");case 19:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsxs)("div",{className:"overview",children:[n?"Loading":Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"back_button",children:Object(j.jsxs)("a",{href:"/explorer",children:[" ",Object(j.jsx)(l.a,{icon:u.a}),"Back to explorer"]})}),Object(j.jsx)("h4",{children:"Employee Overview"}),h&&w&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:["Subordinates of employee ",unescape(h)]}),Object(j.jsx)("div",{className:"subordinates-list",children:w.length?w.map((function(e){return Object(j.jsx)("div",{className:"subordinates-list__item",children:Object(j.jsxs)("a",{href:"/overview/".concat(e),children:[Object(j.jsx)(l.a,{icon:u.c}),e]})},e.toLowerCase())})):"None"})]})]}),i||null]})}),E=function(){return Object(j.jsx)("div",{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/explorer",component:b}),Object(j.jsx)(o.b,{exact:!0,path:"/",children:Object(j.jsx)(o.a,{to:"/explorer"})}),Object(j.jsx)(o.b,{path:"/overview/:name",component:_}),Object(j.jsx)(o.b,{component:h})]})})};var q=function(){return Object(j.jsx)("div",{className:"app",children:Object(j.jsx)("section",{className:"app-main",children:Object(j.jsx)(i.a,{children:Object(j.jsx)(E,{})})})})};n(74);s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(q,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.e7463002.chunk.js.map