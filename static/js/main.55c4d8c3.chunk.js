(this["webpackJsonpemployee-explorer"]=this["webpackJsonpemployee-explorer"]||[]).push([[0],{45:function(e,t,n){},51:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),s=n.n(c),o=n(17),i=(n(45),n(3)),u=n(11),l=n(14),d=n(13),j=n(26),b=(n(50),n(51),n(1)),h=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(i.g)(),s=function(e){e&&c.push("".concat("/employee-explorer","/overview/").concat(e))};return Object(b.jsxs)("div",{className:"explorer",children:[Object(b.jsx)("h4",{id:"title",children:"Employee Explorer"}),Object(b.jsxs)("div",{className:"search_container",children:[Object(b.jsx)(j.a,{"aria-labelledby":"title",className:"search_input",children:Object(b.jsx)(j.b,{placeholder:"Search",onChange:function(e){a(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&s(n)}})}),Object(b.jsx)("button",{className:"search_button",onClick:function(){s(n)},children:Object(b.jsx)(d.a,{icon:l.b})})]})]})},p=function(){return Object(b.jsx)(b.Fragment,{children:"Page not found"})},f=n(12),x=n.n(f),v=n(19),m=n(40),O=n.n(m),y=n(25),g=n(20),w=function e(t){Object(g.a)(this,e),this.id=void 0,this.reportsTo=void 0,this.manages=void 0,this.details=void 0,this.id=N("".concat(t.name,"__").concat(t.title)),this.details=t,this.reportsTo=null,this.manages=[]},k=function(){function e(t){Object(g.a)(this,e),this.root=void 0,this.root=new w(t)}return Object(y.a)(e,[{key:"traverseDF",value:function(e){!function t(n){for(var r=0,a=n.manages.length;r<a;r++)t(n.manages[r]);e(n)}(this.root)}},{key:"traverseBF",value:function(e){var t=new S;t.enqueue(this.root);for(var n=t.dequeue();n;){for(var r=0,a=n.manages.length;r<a;r++)t.enqueue(n.manages[r]);e(n),n=t.dequeue()}}},{key:"contains",value:function(e,t){t.call(this,e)}},{key:"add",value:function(e,t,n){var r,a=new w(e);if(this.contains((function(e){e.id===t&&(r=e)}),n),!(r&&r instanceof w))throw new Error("Cannot add node to a non-existent parent.");r.manages.push(a),a.reportsTo=r}},{key:"getAllSubordinateNames",value:function(){var e=new Set;return this.traverseBF((function(t){e.add(t.details.name)})),e.delete(this.root.details.name),Array.from(e)}}]),e}(),S=function(){function e(){Object(g.a)(this,e),this.elements=void 0,this.elements=[]}return Object(y.a)(e,[{key:"enqueue",value:function(e){this.elements.push(e)}},{key:"dequeue",value:function(){return this.elements.shift()}}]),e}(),N=function(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0)},_=(n(73),function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),s=Object(u.a)(c,2),o=s[0],i=s[1],j=Object(r.useState)(),h=Object(u.a)(j,2),p=h[0],f=h[1],m=Object(r.useState)([]),y=Object(u.a)(m,2),g=y[0],w=y[1],S=function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://api.additivasia.io/api/v1/assignment/employees/".concat(t));case 2:return n=e.sent,e.abrupt("return",{name:t,title:n.data[0],directSubordinates:n.data[1]?n.data[1]["direct-subordinates"]:null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=window.location.href,t=e.substring(e.lastIndexOf("/")+1),n=function(){var e=Object(v.a)(x.a.mark((function e(t,r){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.directSubordinates||!t.directSubordinates.length){e.next=12;break}a=0;case 2:if(!(a<t.directSubordinates.length)){e.next=12;break}return e.next=5,S(t.directSubordinates[a]);case 5:return c=e.sent,r.add(c,N("".concat(t.name,"__").concat(t.title)),r.traverseBF),e.next=9,n(c,r);case 9:a++,e.next=2;break;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(function(){var e=Object(v.a)(x.a.mark((function e(){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(t);case 3:return r=e.sent,c=new k(r),e.next=7,n(r,c);case 7:f(t),w(c.getAllSubordinateNames()),a(!1),i(""),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),f(""),w([]),a(!1),i(e.t0.response&&404===e.t0.response.status?"Employee ".concat(unescape(t)," not found"):"Something went wrong!");case 19:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(b.jsxs)("div",{className:"overview",children:[n?"Loading":Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"back_button",children:Object(b.jsxs)("a",{href:"".concat("/employee-explorer","/explorer"),children:[" ",Object(b.jsx)(d.a,{icon:l.a}),"Back to explorer"]})}),Object(b.jsx)("h4",{children:"Employee Overview"}),p&&g&&Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Subordinates of employee ",unescape(p)]}),Object(b.jsx)("div",{className:"subordinates-list",children:g.length?g.map((function(e){return Object(b.jsx)("div",{className:"subordinates-list__item",children:Object(b.jsxs)("a",{href:"".concat("/employee-explorer","/overview/").concat(e),children:[Object(b.jsx)(d.a,{icon:l.c}),e]})},e.toLowerCase())})):"None"})]})]}),o||null]})}),E=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{exact:!0,path:"".concat("/employee-explorer","/explorer"),component:h}),Object(b.jsx)(i.b,{exact:!0,path:"".concat("/employee-explorer","/"),children:Object(b.jsx)(i.a,{to:"".concat("/employee-explorer","/explorer")})}),Object(b.jsx)(i.b,{path:"".concat("/employee-explorer","/overview/:name"),component:_}),Object(b.jsx)(i.b,{component:p})]})})};var q=function(){return Object(b.jsx)("div",{className:"app",children:Object(b.jsx)("section",{className:"app-main",children:Object(b.jsx)(o.a,{children:Object(b.jsx)(E,{})})})})};n(74);s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.55c4d8c3.chunk.js.map